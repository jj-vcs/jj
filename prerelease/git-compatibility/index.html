
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://jj-vcs.github.io/jj/latest/git-compatibility/">
      
      
        <link rel="prev" href="../git-command-table/">
      
      
        <link rel="next" href="../sapling-comparison/">
      
      
      <link rel="icon" href="../images/favicon-96x96.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.14">
    
    
      
        <title>Git compatibility - Jujutsu docs (prerelease)</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.342714a4.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CGoogle+Sans+Code:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Google Sans Code"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#git-compatibility" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
      </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Jujutsu docs (prerelease)" class="md-header__button md-logo" aria-label="Jujutsu docs (prerelease)" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Jujutsu docs (prerelease)
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Git compatibility
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to system preference"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to system preference" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m14.3 16-.7-2h-3.2l-.7 2H7.8L11 7h2l3.2 9zM20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12zm-9.15 3.96h2.3L12 9z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="blue-grey" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="blue-grey" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/jj-vcs/jj" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    jj-vcs/jj
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Jujutsu docs (prerelease)" class="md-nav__button md-logo" aria-label="Jujutsu docs (prerelease)" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Jujutsu docs (prerelease)
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/jj-vcs/jj" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    jj-vcs/jj
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Getting started
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Getting started
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../install-and-setup/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Installation and setup
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tutorial/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Tutorial and bird's eye view
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../gerrit/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Working with Gerrit
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../github/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Working with GitHub
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../windows/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Working on Windows
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../FAQ/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    FAQ
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../cli-reference/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    CLI reference
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../testimonials/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Testimonials
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../community_tools/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Community-built tools
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Concepts
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            Concepts
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../working-copy/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Working copy
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../bookmarks/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Bookmarks
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../conflicts/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Conflicts
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../operation-log/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Operation log
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../glossary/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Glossary
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Guides
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            Guides
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../guides/divergence/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Divergent changes
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../guides/multiple-remotes/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Multiple remotes
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9" >
        
          
          <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Reference
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../config/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Settings
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../filesets/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Fileset language
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../revsets/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Revset language
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../templates/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Templating language
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10" checked>
        
          
          <label class="md-nav__link" for="__nav_10" id="__nav_10_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Comparisons
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_10_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_10">
            <span class="md-nav__icon md-icon"></span>
            Comparisons
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../git-comparison/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Git comparison
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../git-command-table/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Git command table
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Git compatibility
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Git compatibility
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#supported-features" class="md-nav__link">
    <span class="md-ellipsis">
      Supported features
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#creating-an-empty-repo" class="md-nav__link">
    <span class="md-ellipsis">
      Creating an empty repo
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#creating-a-repo-backed-by-an-existing-git-repo" class="md-nav__link">
    <span class="md-ellipsis">
      Creating a repo backed by an existing Git repo
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#creating-a-repo-by-cloning-a-git-repo" class="md-nav__link">
    <span class="md-ellipsis">
      Creating a repo by cloning a Git repo
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#colocated-jujutsugit-repos" class="md-nav__link">
    <span class="md-ellipsis">
      Colocated Jujutsu/Git repos
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Colocated Jujutsu/Git repos">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#converting-a-repo-into-a-colocated-repo" class="md-nav__link">
    <span class="md-ellipsis">
      Converting a repo into a colocated repo
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#branches" class="md-nav__link">
    <span class="md-ellipsis">
      Branches
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#format-mapping-details" class="md-nav__link">
    <span class="md-ellipsis">
      Format mapping details
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../sapling-comparison/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Sapling comparison
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../related-work/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Other related work
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_11" >
        
          
          <label class="md-nav__link" for="__nav_11" id="__nav_11_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Technical details
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_11_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_11">
            <span class="md-nav__icon md-icon"></span>
            Technical details
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../core_tenets/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Core tenets
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../technical/architecture/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Architecture
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../technical/concurrency/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Concurrency
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../technical/conflicts/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Conflicts
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_12" >
        
          
          <label class="md-nav__link" for="__nav_12" id="__nav_12_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Contributing
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_12_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_12">
            <span class="md-nav__icon md-icon"></span>
            Contributing
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../contributing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Guidelines and "How to...?"
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../code-of-conduct/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Code of conduct
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../style_guide/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Style guide
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../design_docs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Design docs
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../design_doc_blueprint/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Design doc blueprint
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../releasing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Releasing
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../governance/temporary-voting/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Temporary voting for governance
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../governance/GOVERNANCE/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Governance
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_13" >
        
          
          <label class="md-nav__link" for="__nav_13" id="__nav_13_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Design docs
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_13_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_13">
            <span class="md-nav__icon md-icon"></span>
            Design docs
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../design/git-submodules/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    git-submodules
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../design/git-submodule-storage/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    git-submodule-storage
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../design/run/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    JJ run
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../design/sparse-v2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Sparse patterns v2
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../design/tracking-branches/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Tracking branches
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../design/copy-tracking/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Copy tracking and tracing
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../roadmap/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Development roadmap
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../changelog/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Changelog
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#supported-features" class="md-nav__link">
    <span class="md-ellipsis">
      Supported features
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#creating-an-empty-repo" class="md-nav__link">
    <span class="md-ellipsis">
      Creating an empty repo
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#creating-a-repo-backed-by-an-existing-git-repo" class="md-nav__link">
    <span class="md-ellipsis">
      Creating a repo backed by an existing Git repo
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#creating-a-repo-by-cloning-a-git-repo" class="md-nav__link">
    <span class="md-ellipsis">
      Creating a repo by cloning a Git repo
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#colocated-jujutsugit-repos" class="md-nav__link">
    <span class="md-ellipsis">
      Colocated Jujutsu/Git repos
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Colocated Jujutsu/Git repos">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#converting-a-repo-into-a-colocated-repo" class="md-nav__link">
    <span class="md-ellipsis">
      Converting a repo into a colocated repo
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#branches" class="md-nav__link">
    <span class="md-ellipsis">
      Branches
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#format-mapping-details" class="md-nav__link">
    <span class="md-ellipsis">
      Format mapping details
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
    <a href="https://github.com/jj-vcs/jj/edit/main/docs/git-compatibility.md" title="Edit this page" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75z"/></svg>
    </a>
  
  


<h1 id="git-compatibility">Git compatibility<a class="headerlink" href="#git-compatibility" title="Permanent link">&para;</a></h1>
<p>Jujutsu has two backends for storing commits. One of them uses a regular Git
repo, which means that you can collaborate with Git users without them even
knowing that you're not using the <code>git</code> CLI.</p>
<p>See <code>jj help git</code> for help about the <code>jj git</code> family of commands, and e.g.
<code>jj help git push</code> for help about a specific command (use <code>jj git push -h</code> for
briefer help).</p>
<h2 id="supported-features">Supported features<a class="headerlink" href="#supported-features" title="Permanent link">&para;</a></h2>
<p>The following list describes which Git features Jujutsu is compatible with. For
a comparison with Git, including how workflows are different, see the
<a href="../git-comparison/">Git-comparison doc</a>.</p>
<ul>
<li><strong>Configuration: Partial.</strong> The only configuration from Git (e.g. in
  <code>~/.gitconfig</code>) that's respected is the following. Feel free to file a bug if
  you miss any particular configuration options.</li>
<li>The configuration of remotes (<code>[remote "&lt;name&gt;"]</code>). Only the names and URLs
    are respected (simple fetch refspecs are respected when branches are not
    explicitly specified on the CLI, and <a href="https://github.com/jj-vcs/jj/issues/4889">only the last
    pushurl</a> is respected).</li>
<li><code>core.excludesFile</code></li>
<li><strong>Authentication: Yes.</strong> <code>git</code> is used for remote operations under the hood.</li>
<li><strong>Branches: Yes.</strong> You can read more about
  <a href="../bookmarks/">how branches work in Jujutsu</a>
  and <a href="#branches">how they interoperate with Git</a>.</li>
<li><strong>Tags: Partial.</strong> You can check out tagged commits by name (pointed to be
  either annotated or lightweight tags.) You can also create lightweight tags,
  but you cannot create annotated tags.</li>
<li><strong>.gitignore: Yes.</strong> Patterns in <code>.gitignore</code> files are supported. So are
  ignores in <code>.git/info/exclude</code> or configured via Git's <code>core.excludesfile</code>
  config. Since working-copy files are snapshotted by every <code>jj</code> command, you
  might need to run <code>jj file untrack</code> to exclude newly ignored files from the
  working-copy commit. It's recommended to set up the ignore patterns earlier.
  The <code>.gitignore</code> support uses a native implementation, so please report a bug
  if you notice any difference compared to <code>git</code>.</li>
<li><strong>.gitattributes: No.</strong> There's <a href="https://github.com/jj-vcs/jj/issues/53">#53</a>
  about adding support for at least the <code>eol</code> attribute.</li>
<li><strong>Hooks: No.</strong> There's <a href="https://github.com/jj-vcs/jj/issues/405">#405</a>
  specifically for providing the checks from <a href="https://pre-commit.com">https://pre-commit.com</a>.</li>
<li><strong>Merge commits: Yes.</strong> Octopus merges (i.e. with more than 2 parents) are
  also supported.</li>
<li><strong>Detached HEAD: Yes.</strong> Jujutsu supports anonymous branches, so this is a
  natural state.</li>
<li><strong>Orphan branch: Yes.</strong> Jujutsu has a virtual root commit that appears as
  parent of all commits Git would call "root commits".</li>
<li><strong>Staging area: Kind of.</strong> The staging area will be ignored. For example,
  <code>jj diff</code> will show a diff from the Git HEAD to the working copy. There are
  <a href="../git-comparison/#the-index">ways of fulfilling your use cases without a staging
  area</a>.</li>
<li><strong>Garbage collection: Yes.</strong> It should be safe to run <code>git gc</code> in the Git
  repo, but it's not tested, so it's probably a good idea to make a backup of
  the whole workspace first. There's <a href="https://github.com/jj-vcs/jj/issues/12">no garbage collection and repacking of
  Jujutsu's own data structures yet</a>,
  however.</li>
<li><strong>Bare repositories: Yes.</strong> You can use <code>jj git init --git-repo=&lt;path&gt;</code> to
  create a repo backed by a bare Git repo.</li>
<li><strong>Submodules: No.</strong> They will not show up in the working copy, but they will
  not be lost either.</li>
<li><strong>Partial clones: No.</strong></li>
<li><strong>Shallow clones: Kind of.</strong> Shallow commits all have the virtual root commit
  as their parent. However, deepening or fully unshallowing a repository is
  currently not yet supported and will cause issues.</li>
<li><strong>git-worktree: No.</strong> However, there's native support for multiple working
  copies backed by a single repo. See the <code>jj workspace</code> family of commands.</li>
<li><strong>Sparse checkouts: No.</strong> However, there's native support for sparse
  checkouts. See the <code>jj sparse</code> command.</li>
<li><strong>Signed commits: Yes.</strong>
  You can sign commits automatically <a href="../config/#commit-signing">by configuration</a>,
  or use the <code>jj sign</code> command.</li>
<li><strong>Git LFS: No.</strong> (<a href="https://github.com/jj-vcs/jj/issues/80">#80</a>)</li>
</ul>
<h2 id="creating-an-empty-repo">Creating an empty repo<a class="headerlink" href="#creating-an-empty-repo" title="Permanent link">&para;</a></h2>
<p>To create an empty repo using the Git backend, use <code>jj git init &lt;name&gt;</code>. This
creates a <a href="#co-located-jujutsugit-repos">colocated</a> Jujutsu repo, there will be
a <code>.jj</code> directory and a <code>.git</code> directory.</p>
<h2 id="creating-a-repo-backed-by-an-existing-git-repo">Creating a repo backed by an existing Git repo<a class="headerlink" href="#creating-a-repo-backed-by-an-existing-git-repo" title="Permanent link">&para;</a></h2>
<p>To create a Jujutsu repo backed by a Git repo you already have on disk, use <code>jj
git init --git-repo=&lt;path to Git repo&gt; &lt;name&gt;</code>. The repo will work similar to a
<a href="https://git-scm.com/docs/git-worktree">Git worktree</a>, meaning that the working
copies files and the record of the working-copy commit will be separate, but the
commits will be accessible in both repos. Use <code>jj git import</code> to update the
Jujutsu repo with changes made in the Git repo. Use <code>jj git export</code> to update
the Git repo with changes made in the Jujutsu repo.</p>
<h2 id="creating-a-repo-by-cloning-a-git-repo">Creating a repo by cloning a Git repo<a class="headerlink" href="#creating-a-repo-by-cloning-a-git-repo" title="Permanent link">&para;</a></h2>
<p>To create a Jujutsu repo from a remote Git URL, use <code>jj git clone &lt;URL&gt;
[&lt;destination&gt;]</code>. For example, <code>jj git clone
https://github.com/octocat/Hello-World</code> will clone GitHub's "Hello-World" repo
into a directory by the same name.</p>
<p>By default, the remote repository will be named <code>origin</code>. You can use a name of
your choice by adding <code>--remote &lt;remote name&gt;</code> to the <code>jj git clone</code> command.</p>
<h2 id="colocated-jujutsugit-repos"><a name="co-located-jujutsugit-repos"></a>Colocated Jujutsu/Git repos<a class="headerlink" href="#colocated-jujutsugit-repos" title="Permanent link">&para;</a></h2>
<p>A colocated Jujutsu repo is a hybrid Jujutsu/Git repo. This is the default for
Git-backed repositories created with <code>jj git init</code> or <code>jj git clone</code>. The Git
repo and the Jujutsu repo then share the same working copy. Jujutsu will import
and export from and to the Git repo on every <code>jj</code> command automatically.</p>
<p>This mode is very convenient when tools (e.g. build tools) expect a Git repo to
be present.</p>
<p>It is allowed to mix <code>jj</code> and <code>git</code> commands in such a repo in any order.
However, it may be easier to keep track of what is going on if you mostly use
read-only <code>git</code> commands and use <code>jj</code> to make changes to the repo. One reason
for this (see below for more) is that <code>jj</code> commands will usually put the git
repo in a "detached HEAD" state, since in <code>jj</code> there is not concept of a
"currently tracked branch". Before doing mutating Git commands, you may need to
tell Git what the current branch should be with a <code>git switch</code> command.</p>
<p>You can undo the results of mutating <code>git</code> commands using <code>jj undo</code> and <code>jj op
restore</code>. Inside <code>jj op log</code>, changes by <code>git</code> will be represented as an "import
git refs" operation.</p>
<p>You can disable colocation with the <code>--no-colocate</code> flag on the commands <code>jj git
init</code> and <code>jj git clone</code> or by setting the configuration <code>git.colocate = false</code>.
Much of the repo data will still be stored in the Git repository format, but the
Git repository will be hidden inside a sub-directory of the <code>.jj</code> directory.
Moreover, unless you explicitly use the <code>jj git import</code> and <code>jj git export</code>
commands, that Git repository will either have no branches at all (not even a
main branch) or will have branches that are out of date with jj's bookmarks.</p>
<p>Colocation can be disabled because it does have some disadvantages:</p>
<ul>
<li>
<p>Interleaving <code>jj</code> and <code>git</code> commands increases the chance of confusing branch
  conflicts or <a href="../glossary/#divergent-change">conflicted (AKA divergent) change
  ids</a>. These never lose data, but can be
  annoying.</p>
<p>Such interleaving can happen unknowingly. For example, some IDEs can cause
it because they automatically run <code>git fetch</code> in the background from time to
time.</p>
</li>
<li>
<p>In colocated repos with a very large number of branches or other refs, <code>jj</code>
  commands can get noticeably slower because of the automatic <code>jj git import</code>
  executed on each command. This can be mitigated by occasionally running <code>jj
  util gc</code> to speed up the import (that command includes packing the Git refs).</p>
</li>
<li>
<p>Git tools will have trouble with revisions that contain conflicted files.
  While <code>jj</code> renders these files with conflict markers in the working copy, they
  are stored in a non-human-readable fashion inside the repo. Git tools will
  often see this non-human-readable representation.</p>
</li>
<li>
<p>When a <code>jj</code> branch is conflicted, the position of the branch in the Git repo
  will disagree with one or more of the conflicted positions. The state of that
  branch in git will be labeled as though it belongs to a remote named "git",
  e.g. <code>branch@git</code>.</p>
</li>
<li>
<p>Jujutsu will ignore Git's staging area. It will not understand merge conflicts
  as Git represents them, unfinished <code>git rebase</code> states, as well as other less
  common states a Git repository can be in.</p>
</li>
<li>
<p>Colocated repositories are less resilient to
  <a href="../technical/concurrency/#syncing-with-rsync-nfs-dropbox-etc">concurrency</a>
  issues if you share the repo using an NFS filesystem or Dropbox. In general,
  such use of Jujutsu is not currently thoroughly tested.</p>
</li>
<li>
<p>There may still be bugs when interleaving mutating <code>jj</code> and <code>git</code> commands,
  usually having to do with a branch pointer ending up in the wrong place. We
  are working on the known ones, and are not aware of any major ones. Please
  report any new ones you find, or if any of the known bugs are less minor than
  they appear.</p>
</li>
</ul>
<h3 id="converting-a-repo-into-a-colocated-repo">Converting a repo into a colocated repo<a class="headerlink" href="#converting-a-repo-into-a-colocated-repo" title="Permanent link">&para;</a></h3>
<p>A Jujutsu repo backed by a Git repo has a full Git repo inside, which can be
converted into a colocated repo using the <code>jj git colocation</code> command.</p>
<p>To check the current colocation status of your repository:</p>
<div class="highlight"><pre><span></span><code>jj<span class="w"> </span>git<span class="w"> </span>colocation<span class="w"> </span>status
</code></pre></div>
<p>To convert to a colocated repo:</p>
<div class="highlight"><pre><span></span><code>jj<span class="w"> </span>git<span class="w"> </span>colocation<span class="w"> </span><span class="nb">enable</span>
</code></pre></div>
<p>To convert to a non-colocated repo:</p>
<div class="highlight"><pre><span></span><code>jj<span class="w"> </span>git<span class="w"> </span>colocation<span class="w"> </span>disable
</code></pre></div>
<p>The <code>jj colocation enable</code> command automates the following manual process:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Ignore the .jj directory in Git</span>
<span class="nb">echo</span><span class="w"> </span><span class="s1">&#39;/*&#39;</span><span class="w"> </span>&gt;<span class="w"> </span>.jj/.gitignore
<span class="c1"># Move the Git repo</span>
mv<span class="w"> </span>.jj/repo/store/git<span class="w"> </span>.git
<span class="c1"># Tell jj where to find it (do not use on Windows! See below.)</span>
<span class="nb">echo</span><span class="w"> </span>-n<span class="w"> </span><span class="s1">&#39;../../../.git&#39;</span><span class="w"> </span>&gt;<span class="w"> </span>.jj/repo/store/git_target
<span class="c1"># Make the Git repository non-bare and set HEAD</span>
git<span class="w"> </span>config<span class="w"> </span>--unset<span class="w"> </span>core.bare
<span class="c1"># Convince jj to update .git/HEAD to point to the working-copy commit&#39;s parent</span>
jj<span class="w"> </span>new<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>jj<span class="w"> </span>undo
</code></pre></div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>On Windows, the <code>echo</code> command will append line endings and cause <code>jj</code>
to complain about the contents of <code>git_target</code>.</p>
<p>Instead of the <code>echo -n ...</code> line, use:
<code>Set-Content -Path .jj/repo/store/git_target -Value ../../../.git -NoNewLine</code></p>
</div>
<h2 id="branches">Branches<a class="headerlink" href="#branches" title="Permanent link">&para;</a></h2>
<p>TODO: Describe how branches are mapped</p>
<h2 id="format-mapping-details">Format mapping details<a class="headerlink" href="#format-mapping-details" title="Permanent link">&para;</a></h2>
<p>Paths are assumed to be UTF-8. I have no current plans to support paths with
other encodings.</p>
<p>Commits created by <code>jj</code> have a ref starting with <code>refs/jj/</code> to prevent GC.</p>
<p>Commit metadata that cannot be represented in Git commits (such as the Change
ID and information about conflicts) is stored outside of the Git repo (currently
in <code>.jj/store/extra/</code>).</p>
<p>Commits with conflicts cannot be represented in Git. They appear in the Git
commit as as root directories called<code>.jjconflict-base-*/</code> and
<code>.jjconflict-side-*/</code>. Note that the purpose of this representation is only to
prevent GC of the relevant trees; the authoritative information is in the
Git-external storage mentioned in the paragraph above. As long as you use <code>jj</code>
commands to work with them, you won't notice those paths. If, on the other hand,
you use e.g. <code>git switch</code> to check one of them out, you will see those
directories in your working copy. If you then run e.g. <code>jj status</code>, the
resulting snapshot will contain those directories, making it look like they
replaced all the other paths in your repo. You will probably want to run
<code>jj abandon</code> to get back to the state with the unresolved conflicts.</p>
<p>Change IDs are stored in git commit headers as reverse hex encodings. These is
a non-standard header and is not preserved by all <code>git</code> tooling. For example,
the header is preserved by a <code>git commit --amend</code>, but is not preserved through
a rebase operation. GitHub and other major forges seem to preserve them for the
most part. This functionality is currently behind a <code>git.write-change-id-header</code>
flag.</p>












                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "..", "features": ["content.action.edit", "content.code.copy", "content.tabs.link", "navigation.instant"], "search": "../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"alias": true, "provider": "mike"}}</script>
    
    
      <script src="../assets/javascripts/bundle.13a4f30d.min.js"></script>
      
    
  </body>
</html>